<% layout('./layout.html', { title: it.title, board_title: it.title }) %>
<div class="px-6 py-8 h-full">
  <div class="flex space-x-4">
    <form method="post" id="change-board-visibility-form">
      <select name="visibility" id="" class="select" required>
        <option value="PRIVATE" <%= it.visibility === "PRIVATE" ? "selected" : ""%>>Private</option>
        <option value="PUBLIC" <%= it.visibility === "PUBLIC" ? "selected" : ""%>>Public</option>
      </select>
    </form>
    <% if (it.members.length) {%>
    <ul class="flex"></ul>
    <% } %>
    <noscript>
      <button form="change-board-visibility-form" class="btn-primary">Save</button>
    </noscript>
  </div>
  <div class="flex space-x-4 bg-slate-100 rounded-2xl w-full mt-4 h-full">
    <ul class="flex space-x-6 w-full overflow-x-auto p-4">
      <% it.lists.forEach(function(list_item){ %>
        <li class="flex flex-col w-full flex-shrink-0 basis-64">
          <div class="flex justify-between mb-4">
            <span>
              <%= list_item.title %>
            </span>
            <details class="relative">
              <summary class="cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                </svg>
              </summary>
              <menu class="absolute bg-white w-40 shadow drop-shadow-sm rounded-md overflow-hidden mt-2">
                <button class="w-full text-left block p-2 text-red-500 hover:bg-red-100 duration-200">Delete</button>
              </menu>
            </details>
          </div>
          <% if (list_item.items.length) { %>
            <ul class="space-y-4 mb-4">
              <% list_item.items.forEach(function (item) { %>
                <li class="bg-white p-2 rounded-md"><%= item.title %></li>
              <% }) %>
            </ul>
          <% } %>
          <form action="/boards/<%= it.id %>/lists/<%= list_item.id %>" method="post">
            <input type="hidden" name="order" value="0">
            <input type="text" name="title" class="input !p-2 !bg-white" placeholder="Title e.g. Write some docs" required>
            <button class="bg-brand-200 text-brand-500 p-3 rounded-lg w-full focus:ring-2 focus:ring-brand-300 ring-offset-2 ring-offset-brand-400 text-sm active:scale-95 duration-200 flex justify-between mt-2">
              <span>
                Add a card
              </span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 flex-shrink-0"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
            </button>
          </form>
        </li>
      <% }) %>
      <li class="flex-shrink-0 w-full basis-64">
        <form action="/boards/<%= it.id %>/lists" method="post">
          <input type="hidden" name="order" value="0">
          <input type="text" name="title" class="input !p-2 !bg-white" placeholder="Title e.g. In progress" required>
          <button class="bg-brand-200 text-brand-500 p-3 rounded-lg w-full focus:ring-2 focus:ring-brand-300 ring-offset-2 ring-offset-brand-400 text-sm active:scale-95 duration-200 flex justify-between mt-4">
            <span>
              Add a list
            </span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 flex-shrink-0"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
          </button>
        </form>
      </li>
    </ul>
  </div>
</div>
